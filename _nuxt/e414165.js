(window.webpackJsonp=window.webpackJsonp||[]).push([[0,10],{191:function(t,r,n){"use strict";n(195),n(28),n(11),n(29),n(38),n(22),n(35),n(194);var e=n(207);r.a={data:function(){var t=[{id:"bass",title:"Bass",icon:{x:202,src:"guitar"}},{id:"vox",title:"Vox",icon:{x:602,y:402,src:"microphone-alt"}},{id:"brass",title:"Sax",icon:{x:602,y:100,src:"sax-hot"}},{id:"guitar",title:"Guitar",icon:{x:300,src:"guitar"}},{id:"drums",title:"Drums",icon:{x:402,src:"drum"}}],r=new Map(e.map((function(t){return[t.name,t.tracks]})));return t.forEach((function(t){t.tracks=r.get(t.id).map((function(track,r){return{id:t.id+"_"+r,src:t.id+"/"+track,title:track.replace(".wav",""),length:1}}))})),{instruments:t}},methods:{getInstrumentImgStyle:function(t){var r=t.icon;return{backgroundPosition:"".concat(r.x,"px ").concat(r.y||0,"px")}},getInstrumentOfTrack:function(track){return this.instruments.find((function(t){return t.tracks.some((function(t){return t.src==track.src}))}))}}}},192:function(t,r,n){var e=n(12);t.exports=function(t,r){if(!e(t)||t._t!==r)throw TypeError("Incompatible receiver, "+r+" required!");return t}},194:function(t,r,n){"use strict";var e=n(4),o=n(100)(5),c="find",l=!0;c in[]&&Array(1).find((function(){l=!1})),e(e.P+e.F*l,"Array",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n(99)(c)},195:function(t,r,n){"use strict";var strong=n(197),e=n(192),o="Map";t.exports=n(198)(o,(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{get:function(t){var r=strong.getEntry(e(this,o),t);return r&&r.v},set:function(t,r){return strong.def(e(this,o),0===t?0:t,r)}},strong,!0)},196:function(t,r,n){"use strict";var e=n(5),o=n(33),c=n(34),l=n(135),f=n(72),h=n(9),v=n(58).f,d=n(59).f,m=n(13).f,k=n(205).trim,_="Number",y=e.Number,w=y,x=y.prototype,T=c(n(95)(x))==_,I="trim"in String.prototype,C=function(t){var r=f(t,!1);if("string"==typeof r&&r.length>2){var n,e,o,c=(r=I?r.trim():k(r,3)).charCodeAt(0);if(43===c||45===c){if(88===(n=r.charCodeAt(2))||120===n)return NaN}else if(48===c){switch(r.charCodeAt(1)){case 66:case 98:e=2,o=49;break;case 79:case 111:e=8,o=55;break;default:return+r}for(var code,l=r.slice(2),i=0,h=l.length;i<h;i++)if((code=l.charCodeAt(i))<48||code>o)return NaN;return parseInt(l,e)}}return+r};if(!y(" 0o1")||!y("0b1")||y("+0x1")){y=function(t){var r=arguments.length<1?0:t,n=this;return n instanceof y&&(T?h((function(){x.valueOf.call(n)})):c(n)!=_)?l(new w(C(r)),n,y):C(r)};for(var S,P=n(8)?v(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),O=0;P.length>O;O++)o(w,S=P[O])&&!o(y,S)&&m(y,S,d(w,S));y.prototype=x,x.constructor=y,n(14)(e,_,y)}},197:function(t,r,n){"use strict";var e=n(13).f,o=n(95),c=n(134),l=n(32),f=n(132),h=n(133),v=n(97),d=n(136),m=n(98),k=n(8),_=n(131).fastKey,y=n(192),w=k?"_s":"size",x=function(t,r){var n,e=_(r);if("F"!==e)return t._i[e];for(n=t._f;n;n=n.n)if(n.k==r)return n};t.exports={getConstructor:function(t,r,n,v){var d=t((function(t,e){f(t,d,r,"_i"),t._t=r,t._i=o(null),t._f=void 0,t._l=void 0,t[w]=0,null!=e&&h(e,n,t[v],t)}));return c(d.prototype,{clear:function(){for(var t=y(this,r),data=t._i,n=t._f;n;n=n.n)n.r=!0,n.p&&(n.p=n.p.n=void 0),delete data[n.i];t._f=t._l=void 0,t[w]=0},delete:function(t){var n=y(this,r),e=x(n,t);if(e){var o=e.n,c=e.p;delete n._i[e.i],e.r=!0,c&&(c.n=o),o&&(o.p=c),n._f==e&&(n._f=o),n._l==e&&(n._l=c),n[w]--}return!!e},forEach:function(t){y(this,r);for(var n,e=l(t,arguments.length>1?arguments[1]:void 0,3);n=n?n.n:this._f;)for(e(n.v,n.k,this);n&&n.r;)n=n.p},has:function(t){return!!x(y(this,r),t)}}),k&&e(d.prototype,"size",{get:function(){return y(this,r)[w]}}),d},def:function(t,r,n){var e,o,c=x(t,r);return c?c.v=n:(t._l=c={i:o=_(r,!0),k:r,v:n,p:e=t._l,n:void 0,r:!1},t._f||(t._f=c),e&&(e.n=c),t[w]++,"F"!==o&&(t._i[o]=c)),t},getEntry:x,setStrong:function(t,r,n){v(t,r,(function(t,n){this._t=y(t,r),this._k=n,this._l=void 0}),(function(){for(var t=this,r=t._k,n=t._l;n&&n.r;)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?d(0,"keys"==r?n.k:"values"==r?n.v:[n.k,n.v]):(t._t=void 0,d(1))}),n?"entries":"values",!n,!0),m(r)}}},198:function(t,r,n){"use strict";var e=n(5),o=n(4),c=n(14),l=n(134),meta=n(131),f=n(133),h=n(132),v=n(12),d=n(9),m=n(96),k=n(55),_=n(135);t.exports=function(t,r,n,y,w,x){var T=e[t],I=T,C=w?"set":"add",S=I&&I.prototype,P={},O=function(t){var r=S[t];c(S,t,"delete"==t||"has"==t?function(a){return!(x&&!v(a))&&r.call(this,0===a?0:a)}:"get"==t?function(a){return x&&!v(a)?void 0:r.call(this,0===a?0:a)}:"add"==t?function(a){return r.call(this,0===a?0:a),this}:function(a,b){return r.call(this,0===a?0:a,b),this})};if("function"==typeof I&&(x||S.forEach&&!d((function(){(new I).entries().next()})))){var E=new I,N=E[C](x?{}:-0,1)!=E,A=d((function(){E.has(1)})),j=m((function(t){new I(t)})),D=!x&&d((function(){for(var t=new I,r=5;r--;)t[C](r,r);return!t.has(-0)}));j||((I=r((function(r,n){h(r,I,t);var e=_(new T,r,I);return null!=n&&f(n,w,e[C],e),e}))).prototype=S,S.constructor=I),(A||D)&&(O("delete"),O("has"),w&&O("get")),(D||N)&&O(C),x&&S.clear&&delete S.clear}else I=y.getConstructor(r,t,w,C),l(I.prototype,n),meta.NEED=!0;return k(I,t),P[t]=I,o(o.G+o.W+o.F*(I!=T),P),x||y.setStrong(I,t,w),I}},201:function(t,r,n){var content=n(212);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(46).default)("fff4f8ea",content,!0,{sourceMap:!1})},203:function(t,r,n){"use strict";n.r(r);var e=n(191),o={props:{track:Object},mixins:[e.a],computed:{trackIcon:function(){return this.instrument.icon.src},style:function(){return this.getInstrumentImgStyle(this.instrument)},trackTitle:function(){return this.track.title},instrument:function(){return this.getInstrumentOfTrack(this.track)}}},c=(n(211),n(6)),component=Object(c.a)(o,(function(){var t=this,r=t.$createElement,n=t._self._c||r;return n("div",{class:["bg-primary","track","rounded","bg-nobel-cover","flex","items-center","justify-center","text-secondary"],style:t.style},[n("div",[n("div",{staticClass:"text-center"},[n("fa",{staticStyle:{"font-size":"30px"},attrs:{icon:t._f("fa")(t.trackIcon)}})],1),t._v(" "),n("div",[t._v("\n      "+t._s(t.trackTitle)+"\n    ")])])])}),[],!1,null,"f74a4568",null);r.default=component.exports},205:function(t,r,n){var e=n(4),o=n(41),c=n(9),l=n(206),f="["+l+"]",h=RegExp("^"+f+f+"*"),v=RegExp(f+f+"*$"),d=function(t,r,n){var o={},f=c((function(){return!!l[t]()||"​"!="​"[t]()})),h=o[t]=f?r(m):l[t];n&&(o[n]=h),e(e.P+e.F*f,"String",o)},m=d.trim=function(t,r){return t=String(o(t)),1&r&&(t=t.replace(h,"")),2&r&&(t=t.replace(v,"")),t};t.exports=d},206:function(t,r){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},207:function(t){t.exports=JSON.parse('[{"name":"bass","tracks":["Bass.mp3","Chorus_Bass.wav","Fill_Bass_Funk.wav","Lig_Bass.wav","Pre_Bass.wav","Vers_Bass.wav"]},{"name":"brass","tracks":["Chorus_Bläser.wav","Pre_Bläser1.wav","Pre_Bläser1_P2.wav","Pre_Bläser2.wav","Pre_Bläser2_P2.wav","Vers_Bläser.wav"]},{"name":"drums","tracks":["Chorus_Drums.wav","Pre_Drums.wav","Vers_Drums.wav"]},{"name":"guitar","tracks":["Chorus_Guit.wav","Pre_Guit1.wav","Pre_Guit1_Part2.wav","Pre_Guit2.wav","Pre_Guit2_Part2.wav","Pre_Guit3.wav","Vers_Guit.wav"]},{"name":"piano","tracks":["Chorus_Orgel.wav","Pre_Orgel.wav","Vers_Orgel.wav"]},{"name":"vox","tracks":["Voc_Bienenstock.wav","Voc_Fuchs.wav","Voc_HeißeKugel.wav"]}]')},211:function(t,r,n){"use strict";n(201)},212:function(t,r,n){var e=n(45)((function(i){return i[1]}));e.push([t.i,"/*purgecss start ignore*/\n.track[data-v-f74a4568]{\n  width:84px;\n  height:84px;\n  cursor:pointer\n}\n\n/*purgecss end ignore*/",""]),e.locals={},t.exports=e},217:function(t,r,n){"use strict";n.r(r);n(40),n(18),n(56),n(57),n(30),n(22),n(31);var e=n(24),o=(n(196),n(23),n(38),n(230),n(28),n(11),n(29),n(16)),c=n(191),track=n(203),l=n(54),f=n(43);function h(t,r){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,r){if(!t)return;if("string"==typeof t)return v(t,r);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(t,r)}(t))||r&&t&&"number"==typeof t.length){n&&(t=n);var i=0,e=function(){};return{s:e,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,c=!0,l=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){l=!0,o=t},f:function(){try{c||null==n.return||n.return()}finally{if(l)throw o}}}}function v(t,r){(null==r||r>t.length)&&(r=t.length);for(var i=0,n=new Array(r);i<r;i++)n[i]=t[i];return n}function d(object,t){var r=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),r.push.apply(r,n)}return r}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(r){Object(e.a)(t,r,source[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(source,r))}))}return t}o.c.add(f.f,f.i,f.j);var k={components:{Track:track.default},mixins:[c.a],props:{title:String,instrument:Object,tracks:{type:Array,default:function(){return[]}},patternLength:Number},data:function(){return{cellWidth:94,cellMarginLeft:4,ghostTrack:null,currentTrack:null,currentTracks:[],movingWorks:!0}},computed:m(m({},Object(l.b)("tracks",["currentInstrumentId"])),{},{cellCount:function(){return this.patternLength},attentionClass:function(){var t;return this.currentInstrumentId==(null===(t=this.instrument)||void 0===t?void 0:t.id)||this.currentTrack}}),methods:{trackStyle:function(track){if(track)return{left:(this.cellWidth+this.cellMarginLeft)*track.start+this.cellMarginLeft+"px",width:(this.cellWidth+this.cellMarginLeft)*(track.length||1)-this.cellMarginLeft+"px"}},onTitleClick:function(){this.$store.dispatch("tracks/setCurrentInstrumentId",this.instrument.id)},onDragStart:function(track,t){this.currentTrack=track;var r=t.el.clientWidth,n=t.dragClickPositionX;return{relativePart:parseInt(n/(r/track.length)),track:track,instrumentId:this.instrument.id}},onDragStop:function(track,t){if(this.movingWorks){if(this.$emit("tracksChange",this.currentTracks),this.ghostTrack){var r=this.ghostTrack.start;track.start=r;track.start;this.ghostTrack=null}t.el&&(t.el.style.top="0"),this.currentTrack=null}else this.mapTracks()},onCellHover:function(t,r){var n,e=this;if(this.instrument.id==(null===(n=r.startParams)||void 0===n?void 0:n.instrumentId)){var track=r.startParams.track,o=r.startParams.relativePart;if(track){this.currentTracks.filter((function(t){return t.id!=track.id})).forEach((function(t){t.start=e.tracks.filter((function(r){return r.id==t.id}))[0].start}));var c=t-1-o,l=track.length||1;c>this.cellCount-l&&(c=this.cellCount-l),c<0&&(c=0);var f=c+l,v=this.currentTracks.filter((function(t){return t.start<f&&t.start+t.length>c&&t!=track})),d=this.currentTracks.filter((function(t){return t.start+t.length<=c&&t.id!=track.id})).map((function(t){return t.length})),k=d.length>0?d.reduce((function(a,b){return a+b})):0,_=c-k,y=this.currentTracks.filter((function(t){return t.start>=f&&t.id!=track.id})).map((function(t){return t.length})),w=y.length>0?y.reduce((function(a,b){return a+b})):0,x=this.cellCount-w-f;this.movingWorks=!0;var T,I=_,C=x,S=[],P=[],O=h(v);try{for(O.s();!(T=O.n()).done;){var E=T.value;if(I-(l=E.length)>=0)I-=l,S.push(E);else{if(!(C-l>=0)){this.movingWorks=!1;break}C-=l,P.push(E)}}}catch(t){O.e(t)}finally{O.f()}if(!this.movingWorks)return void(this.ghostTrack=null);var N=new Set(P.map((function(t){return t.id})));this.moveLeft(S,c,N),this.moveRight(P,f,N),this.ghostTrack=m(m({},track),{},{start:c})}}},onCellHoverLeave:function(t,r){this.ghostTrack=null},onCellDrop:function(t,r){if(r.startParams.newTrack&&this.ghostTrack){var n=this.ghostTrack.start;this.ghostTrack=null,this.currentTrack=null;var e=m(m({},r.startParams.track),{},{start:n,id:crypto.randomUUID()});this.$emit("onTrackAdded",e)}},moveLeft:function(t,r,n){var e=this;if(0!=t.length){t.sort((function(a,b){return b.start-a.start}));var o,c=0,l=h(t);try{for(l.s();!(o=l.n()).done;){var track=o.value;c+=track.length,track.start=r-c,n.add(track.id)}}catch(t){l.e(t)}finally{l.f()}var f=r;r-=c;var v=this.currentTracks.filter((function(t){return!n.has(t.id)&&t.id!=e.currentTrack.id&&t.start<f&&t.start+t.length>r}));this.moveLeft(v,r,n)}},moveRight:function(t,r,n){var e=this;if(0!=t.length){t.sort((function(a,b){return a.start-b.start}));var o,c=0,l=h(t);try{for(l.s();!(o=l.n()).done;){var track=o.value;track.start=r+c,c+=track.length,n.add(track.id)}}catch(t){l.e(t)}finally{l.f()}var f=r;r+=c;var v=this.currentTracks.filter((function(t){return!n.has(t.id)&&t.id!=e.currentTrack.id&&t.start<r&&t.start+t.length>f}));this.moveRight(v,r,n)}},mapTracks:function(){var t=this;this.currentTracks=this.tracks.filter((function(r){return r.start+(r.length||1)<=t.patternLength})).map((function(t){return m(m({},t),{},{length:t.length||1})})),this.currentTracks.sort((function(a,b){return a.start-b.start}))}},watch:{tracks:{immediate:!0,handler:function(t){this.mapTracks()}},patternLength:function(){this.mapTracks()}}},_=k,y=(n(231),n(6)),component=Object(y.a)(_,(function(){var t=this,r=t.$createElement,n=t._self._c||r;return n("div",{staticClass:"flex line"},[n("div",{staticClass:"line-header self-center",on:{click:t.onTitleClick}},[t._v(t._s(t.title))]),t._v(" "),n("div",{staticClass:"flex cell-container"},[t._l(t.cellCount,(function(r){return n("div",{directives:[{name:"droppable",rawName:"v-droppable",value:{onHover:t.onCellHover.bind(this,r),onDrop:t.onCellDrop.bind(this,r),onHoverLeave:t.onCellHoverLeave.bind(this,r)},expression:"{\n        onHover: onCellHover.bind(this, cell),\n        onDrop: onCellDrop.bind(this, cell),\n        onHoverLeave: onCellHoverLeave.bind(this, cell),\n      }"}],key:"pattern-cell_"+r,class:["pattern-cell rounded",t.attentionClass?"bg-third":"bg-fourth",{"pulsate-fwd":t.attentionClass}],style:{"animation-delay":.1*r+"s"}})})),t._v(" "),t._l(t.currentTracks,(function(track,r){return n("Track",{directives:[{name:"draggable",rawName:"v-draggable",value:{onStart:t.onDragStart.bind(this,track),onStop:t.onDragStop.bind(this,track)},expression:"{\n        onStart: onDragStart.bind(this, track),\n        onStop: onDragStop.bind(this, track),\n      }"},{name:"scrollby",rawName:"v-scrollby",value:{offset:180+10*r,styleAttributes:[{prop:"transform",value:"translate($value%,$value%)",reverse:!0,factor:-1},{prop:"opacity",factor:.01}]},expression:"{\n        offset: 180 + index * 10,\n        styleAttributes: [\n          {\n            prop: 'transform',\n            value: 'translate($value%,$value%)',\n            reverse: true,\n            factor: -1,\n          },\n\n          { prop: 'opacity', factor: 0.01 },\n        ],\n      }"}],key:"track_"+track.id,class:{"track-dragging":track==t.currentTrack},style:t.trackStyle(track),attrs:{track:track}})})),t._v(" "),n("div",{staticClass:"bg-primary track ghost-track rounded opacity-80",style:t.trackStyle(t.ghostTrack)})],2)])}),[],!1,null,"1cc18a87",null);r.default=component.exports;installComponents(component,{Track:n(203).default})},224:function(t,r,n){var content=n(232);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(46).default)("43c6e21c",content,!0,{sourceMap:!1})},230:function(t,r,n){"use strict";var strong=n(197),e=n(192);t.exports=n(198)("Set",(function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}}),{add:function(t){return strong.def(e(this,"Set"),t=0===t?0:t,t)}},strong)},231:function(t,r,n){"use strict";n(224)},232:function(t,r,n){var e=n(45)((function(i){return i[1]}));e.push([t.i,"/*purgecss start ignore*/\n.line[data-v-1cc18a87]{\n  height:94px;\n  margin-bottom:4px\n}\n.line .line-header[data-v-1cc18a87]{\n  width:200px;\n  cursor:pointer\n}\n.line .cell-container[data-v-1cc18a87]{\n  position:relative\n}\n.line .cell-container .pattern-cell[data-v-1cc18a87]{\n  width:94px;\n  margin-left:4px;\n  height:100%\n}\n.line .cell-container .track[data-v-1cc18a87]{\n  height:94px;\n  position:absolute;\n  z-index:2;\n  cursor:pointer;\n  transition:all .2s ease\n}\n.line .cell-container .track.track-dragging[data-v-1cc18a87]{\n  z-index:4;\n  transition:none\n}\n.line .cell-container .track.ghost-track[data-v-1cc18a87]{\n  transition:none\n}\n.pulsate-fwd[data-v-1cc18a87]{\n  -webkit-animation:pulsate-fwd-data-v-1cc18a87 1.2s ease-in-out infinite both;\n          animation:pulsate-fwd-data-v-1cc18a87 1.2s ease-in-out infinite both\n}\n@-webkit-keyframes pulsate-fwd-data-v-1cc18a87{\n0%{\n    transform:scale(1)\n}\n50%{\n    transform:scale(1.1)\n}\nto{\n    transform:scale(1)\n}\n}\n@keyframes pulsate-fwd-data-v-1cc18a87{\n0%{\n    transform:scale(1)\n}\n50%{\n    transform:scale(1.1)\n}\nto{\n    transform:scale(1)\n}\n}\n\n/*purgecss end ignore*/",""]),e.locals={},t.exports=e}}]);